{% extends "base.html" %}

{%- from "govuk_frontend_jinja/components/accordion/macro.html" import govukAccordion -%}
{%- from 'govuk_frontend_jinja/components/checkboxes/macro.html' import govukCheckboxes -%}
{%- from 'govuk_frontend_jinja/components/select/macro.html' import govukSelect -%}
{%- from 'govuk_frontend_jinja/components/button/macro.html' import govukButton -%}
{%- from 'govuk_frontend_jinja/components/label/macro.html' import govukLabel -%}
{%- from "checkboxes.html" import checkboxItems -%}
{%- from "select.html" import selectItems -%}

{% block beforeContent %}
{{ super() }}
{% endblock %}

{% block content %}
<form method="post" action="{{ url_for('main.download') }}">
  {{ form.csrf_token }}

  {{ govukAccordion({
    "id": "default-example",
    "headingLevel": 2,
    "items": [
        {
          "heading": {
            "text": "Filter by fund"
          },
          "content": {
            "html": checkboxItems(fundParams)
          },
        },
        {
          "heading": {
            "text": "Filter by area"
          },
          "content": {
            "html": checkboxItems(areaParams)
          }
        },
        {
          "heading": {
            "text": "Filter by funded organisation"
          },
          "content": {
            "html": checkboxItems(fundedOrgParams)
          }
        },
        {
          "heading": {
            "text": "Filter by outcomes"
          },
          "content": {
            "html": checkboxItems(outcomesParams)
          }
        },
        {
          "heading": {
            "text": "Filter by returns"
          },
          "content": {
            "html": selectItems(returnsParams)
          }
        }
      ]
    }) 
  }}
    
    {{ form.file_format}}
    {{ form.save }}

</form>

{% endblock %}
